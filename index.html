<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Transparency-toolkit : Analysis system for Transparency Toolkit." />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Transparency-toolkit</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/TransparencyToolkit/Transparency-Toolkit">View on GitHub</a>

          <h1 id="project_title">Transparency-toolkit</h1>
          <h2 id="project_tagline">Analysis system for Transparency Toolkit.</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/TransparencyToolkit/Transparency-Toolkit/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/TransparencyToolkit/Transparency-Toolkit/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <p>Transparency Toolkit is a web app where journalists can chain together tools to get data (via scrapers and APIs), filter/extract from documents, analyze documents, and generate visualizations all without coding.</p>

<p>To setup-</p>

<ol>
<li>Clone git repo</li>
<li>Make sure you have rails 4, ruby 2, and postgresql installed</li>
<li>bundle install</li>
<li>rake db:migrate</li>
<li>rake db:seed</li>
<li>rails server</li>
</ol><p>There also might be some additional database setup required, but the exact procedure for this depends slightly on OS.</p>

<p>If you are interested in adding tools, it is relatively simple to do so.</p>

<ol>
<li>Add Info to Database: Edit db/seeds.rb with the info on the tool:

<ol>
<li>plugin_list: Add a tool to the plugin_list by providing ["Name", "Description", category #]. Category 1 is for data sources, category 2 is for filtering/combining tools, and category 3 is for visualization and analysis tools.</li>
<li>plugin_call_list: These are the different methods for the tool (some tools have a collection of related but different methods). They are formatted as ["Name", "Description", plugin id].</li>
<li>plugin_call_field_list: These are the inputs for the tool ["Field Name", "field_type", if input is required, plugin_call id].</li>
</ol>
</li>
<li>Make Tool Class: Make a class for the tool in app/helpers. This should inherit from PluginClass and this is where the tool (either a gem or another separate program) is called.</li>
<li>Make Tool View: Add the views needed for the inputs and showing the results.

<ol>
<li>Add Inputs: In views/form_handlers, add a file with new input types as needed. Currently, the types are text_field, check_box, text_area, file_field (list of fields in JSON), step_field (list of output of previous steps), upload_field, and preset_field (add preset list via app/steps_helper).</li>
<li>Add any view needed for the tool to app/views/recipes. This should be a partial and is where the javascript for javascript visualizations goes.</li>
</ol>
</li>
<li>Add to StepsHelper: This switches between the tool views and classes.

<ol>
<li>Add to switchTool: In the switchTool method, add a case to the case statement of the form 
<code>when TOOLNUM then $recipehash[recipeid].addstep(stepnum, TOOLCLASSNAMEPlugin.new(usedmethod, input, stepnum, recipeid))</code> Some tools might require additional parameters.</li>
<li>Add to switchView: In the switchView method, add a case statement of the form <code>when TOOLNUM render :partial =&gt; 'recipes/TOOLPARTIAL', :locals =&gt; { :output =&gt; $recipehash[recipeid].getoutput(stepnum) }</code> </li>
</ol>
</li>
<li>Reset/reseed the database and add gems to the gemfile if necessary to run the tool.</li>
</ol>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Transparency-toolkit maintained by <a href="https://github.com/TransparencyToolkit">TransparencyToolkit</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

    

  </body>
</html>
